{% extends "layout/sidebar.html" %}
{% import "forms/forms.html" as forms %}
{% import "forms/fields.html" as fields %}
{% import "tables/tables.html" as tables %}
{% import "messages/banners.html" as banners %}

{% block main_content %}

    {% block filters %}

      {% call forms.form() -%}
        {% for field in filter.form.fields %}
          {{fields.field(filter.form[field])}}
        {% endfor %}

        <div class="clearBoth"></div>
        <div class="container">
          <div class="row">
            <div class="three columns"></div>
            <div class="six columns">
              <ul class="menu-out flow-across">
                <button type="submit" name="" value="" class="primary-button button">
                  Search
                </button>
                </li>
              </ul>
            </div>
            <div class="three columns"></div>
          </div>
        </div>

      {%- endcall %}

    {% endblock %}

    {% block results %}

        {% set empty_message %}
            {% block empty_message %}
                There aren't any records that match your search
            {% endblock %}
        {% endset %}

        {% if (page and page.object_list) or results %}

          {% if page %}
            {% include "partial/paginator.html" %}
          {% endif %}

          <table responsiveList class="setoutList">
            <thead>
              <tr>
                {{tables.headers(display)}}

                {% if display.actions %}
                  <th scope="col">Actions</th>
                {% endif %}
              </tr>
            </thead>

            {% for item in (page.object_list if page else results) %}
              <tr>
                {{tables.fields(item, display)}}

                {% if display.actions %}
                  <td>
                    {% for action in display.actions %}
                      {% if action.display(item) %}
                        {% if activation %}
                          {{action.as_html(item, csrf_token, activation=activation)}}
                        {% else %}
                          {{action.as_html(item, csrf_token)}}
                        {% endif %}
                      {% endif %}
                    {% endfor %}
                  </td>
                {% endif %}
              </tr>
            {% endfor %}
          </table>

          {% if page %}
            {% include "partial/paginator.html" %}
          {% endif %}

        {% else %}

          {{banners.warning(empty_message)}}

        {% endif %}

    {% endblock %}
    <div class=content-actions></div>
{% endblock %}
